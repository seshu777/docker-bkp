
<nz-tabset class="page-header-tab" *ngIf="dataAvailable">
    <nz-tab nzTitle="Account">
        <div class="container">
            <nz-card nzTitle="Basic Infomation">
            <div class="row">
              <div class="col-md-8">
                <div class="media align-items-center">
                 <img [src]="imageToShow" style="width:80px; border-radius: 50%;vertical-align: middle;" alt="{{userDetails.userName}}" />
                    <div class="m-l-20 m-r-20">
                        <h5 class="m-b-5 font-size-18">Change Avatar</h5>
                        <p class="opacity-07 font-size-13 m-b-0">
                            Recommended Dimensions: <br>
                            120x120 Max fil size: 5MB
                        </p>
                    </div>
                    <nz-upload 
                        nzName="avatar"
                        [nzAction]="uploadUrl" 
                        [nzCustomRequest]="customReq"
                        [nzShowUploadList]="false"
                       >
                        <button [nzLoading]="isLoadingProfile" nz-button nzType="primary" nzGhost>
                            <span>Upload Photo</span>
                        </button>
                    </nz-upload>
                 </div>
            </div>
                    <div class="col-md-4"><button [nzLoading]="isLoading" class="float-right m-t-10" (click)="updateUser()" nz-button nzType="primary" nzGhost><span>Save Profile</span></button></div>
            </div>
                <hr class="m-v-25">
                <div class="row">
                    <div class="col-md-6">
                        <nz-form-item>
                            <nz-form-label>User Name</nz-form-label>
                            <nz-form-control>
                                <input nz-input placeholder="Username" [(ngModel)]="userDetails.userName" [ngModelOptions]="{standalone: true}">
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div class="col-md-6">
                        <nz-form-item>
                            <nz-form-label>Email</nz-form-label>
                            <nz-form-control>
                                <input nz-input placeholder="Email" type="email" name = "email" [(ngModel)]="userDetails.email" [ngModelOptions]="{standalone: true}">
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-md-4">
                        <nz-form-item>
                            <nz-form-label>Phone Number</nz-form-label>
                            <nz-form-control>
                                <input nz-input placeholder="Phone Number" name="mobile" [(ngModel)]="userDetails.mobile" [ngModelOptions]="{standalone: true}">
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div class="col-md-4">
                        <nz-form-item>
                            <nz-form-label>Date of Birth</nz-form-label>
                            <nz-form-control>
                                <nz-date-picker class="w-100" [nzFormat]="yyyy-MM-DD" [nzDisabledTime]="disabledDateTime"
                                name="dob" [(ngModel)]="userDetails.dob" nzPlaceHolder="Date of Birth" [ngModelOptions]="{standalone: true}"></nz-date-picker>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div class="col-md-4">
                        <nz-form-item>
                            <nz-form-label>Gender</nz-form-label>
                            <nz-form-control>
                            <nz-radio-group [(ngModel)]="userDetails.gender" nzName="radiogroup" [ngModelOptions]="{standalone: true}">
                                    <label nz-radio nzValue="Male">Male</label>
                                    <label nz-radio nzValue="Female">Female</label>
                                    </nz-radio-group>
                                </nz-form-control>
                        </nz-form-item>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <!-- assign role option should appear for SuperAdmin -->
                            <nz-form-item>
                                    <nz-form-label>Assign Role to User</nz-form-label>
                                    <nz-form-control>
                                            <nz-select
                                            class="w-100"
                                            nzMode="multiple"
                                            nzPlaceHolder="Assign roles"
                                            [(ngModel)]="selectedRole"
                                            [ngModelOptions]="{standalone: true}"
                                        >
                                            <ng-container *ngFor="let option of rolesList">
                                                <nz-option [nzLabel]="option" [nzValue]="option" ></nz-option>
                                            </ng-container>
                                        </nz-select>
                                </nz-form-control>
                                </nz-form-item>
                    </div>
                    <div class="col-md-4"></div>
                    <div class="col-md-4"></div>
                </div>
            </nz-card> 
            <nz-card nzTitle="Address Details">
                <div class="row">
                    <div class="col-md-12">
                        <nz-form-item>
                            <nz-form-label>Address</nz-form-label>
                            <nz-form-control>
                                    <textarea rows="3"  nz-input placeholder="Address" name="address" [(ngModel)]="userDetails.address" [ngModelOptions]="{standalone: true}"></textarea>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <nz-form-item>
                            <nz-form-label>Biography</nz-form-label>
                            <nz-form-control>
                                    <textarea rows="3" nz-input placeholder="Biography" name="biography" [(ngModel)]="userDetails.biography" [ngModelOptions]="{standalone: true}"></textarea>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <nz-form-item>
                            <nz-form-label>Interests</nz-form-label>
                            <nz-form-control>
                                <textarea rows="3" nz-input placeholder="Interests" name="interests" [(ngModel)]="userDetails.interests" [ngModelOptions]="{standalone: true}"></textarea>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                </div>
            </nz-card>      
        </div>
    </nz-tab>
    <nz-tab nzTitle="Network">
        <div class="container">
            <div class="row">
                <div class="col-md-8 mx-auto">
                    <nz-card nzTitle="Network Integration">
                        <nz-list [nzDataSource]="networkList" [nzRenderItem]="network" [nzItemLayout]="'horizontal'" >
                            <ng-template #network let-item>
                                <nz-list-item [nzActions]="[moreAction]">
                                    <ng-template #moreAction>
                                        <span class="m-r-10 text-gray" *ngIf="item.status">{{item.link}}</span>
                                        <nz-switch [ngModel]="item.status" [nzCheckedChildren]="checkedTemplate" [nzUnCheckedChildren]="unCheckedTemplate"></nz-switch>
                                        <ng-template #checkedTemplate><i class="font-size-12" nz-icon type="check"></i></ng-template>
                                        <ng-template #unCheckedTemplate><i class="font-size-12" nz-icon type="close"></i></ng-template>
                                    </ng-template>
                                    <nz-list-item-meta
                                        [nzTitle]="networkName"
                                        [nzAvatar]="networkIcon">
                                        <ng-template #networkIcon>
                                            <nz-avatar [nzIcon]="item.icon" [ngStyle]="{'color': item.avatarColor, 'background': item.avatarBg}"></nz-avatar>
                                        </ng-template>
                                        <ng-template #networkName>
                                            <div class="font-size-15 font-weight-semibold m-t-10">{{item.name}}</div>
                                        </ng-template>
                                    </nz-list-item-meta>
                                </nz-list-item>
                            </ng-template>
                        </nz-list>
                    </nz-card>
                </div>
            </div>
        </div>
    </nz-tab>
    <nz-tab nzTitle="Notification">
        <div class="container">
            <div class="row">
                <div class="col-md-8 mx-auto">
                    <nz-card nzTitle="Notification Config">
                        <nz-list [nzDataSource]="notificationConfigList" [nzRenderItem]="notification" [nzItemLayout]="'horizontal'">
                            <ng-template #notification let-item>
                                <nz-list-item [nzActions]="[configStatus]">
                                    <ng-template #configStatus>
                                        <nz-switch [ngModel]="item.status" [nzCheckedChildren]="checkedTemplate2nd" [nzUnCheckedChildren]="unCheckedTemplate2nd"></nz-switch>
                                        <ng-template #checkedTemplate2nd><i class="font-size-12" nz-icon type="check"></i></ng-template>
                                        <ng-template #unCheckedTemplate2nd><i class="font-size-12" nz-icon type="close"></i></ng-template>
                                    </ng-template>
                                    <nz-list-item-meta
                                        [nzTitle]="notificationTitle"
                                        [nzAvatar]="notificationIcon">
                                        <ng-template #notificationIcon>
                                            <nz-avatar [nzIcon]="item.icon" [ngClass]="item.color" class="m-t-5"></nz-avatar>
                                        </ng-template>
                                        <ng-template #notificationTitle>
                                            <h5 class="font-weight-semibold m-b-0">{{item.title}}</h5>
                                            <p class="m-b-0 font-weight-normal">{{item.desc}}</p>
                                        </ng-template>
                                    </nz-list-item-meta>
                                </nz-list-item>
                            </ng-template>
                        </nz-list>
                    </nz-card>
                </div>
            </div>
        </div>
    </nz-tab>
</nz-tabset>

<nz-skeleton [nzLoading]="!dataAvailable" [nzAvatar]="true" [nzActive]="true" [nzParagraph]="{ rows: 4 }"></nz-skeleton>